<HTML>
<HEAD>
<meta charset="UTF-8">
<title>SgfView - sgfcharm</title>
<link rel="stylesheet" href="../../../style.css">
</HEAD>
<BODY>
<a href="../../index.html">sgfcharm</a>&nbsp;/&nbsp;<a href="../index.html">onion.w4v3xrmknycexlsd.lib.sgfcharm.view</a>&nbsp;/&nbsp;<a href="./index.html">SgfView</a><br/>
<br/>
<h1>SgfView</h1>
<code><span class="keyword">class </span><span class="identifier">SgfView</span>&nbsp;<span class="symbol">:</span>&nbsp;<span class="identifier">AppCompatTextView</span><span class="symbol">, </span><a href="../-sgf-view-adapter/index.html"><span class="identifier">SgfViewAdapter</span></a></code> <a href="https://github.com/w4v3/sgfcharm/tree/master/sgfcharm/src/main/java/onion/w4v3xrmknycexlsd/lib/sgfcharm/view/SgfView.kt#L91">(source)</a>
<p>Draws an interactive Board together with undo/redo buttons and additional informational text. It's a
<code>TextView</code>, so the text it displays is styled according to the <code>TextView</code> attributes.</p>
<p>The layout will be as follows: The grid is drawn with an additional padding to account for
pieces at the borders of the board. Below the grid, there are undo and redo buttons, square
shaped, in the size of half the space between two lines on the grid. Directly underneath, the
text is drawn using the <code>android:text*</code> attributes.</p>
<p>For best results, you should not set the height of the view to an absolute value, use
<code>MATCH_PARENT</code> or <code>WRAP_CONTENT</code> instead. Otherwise, the view might be clipped.</p>
<p>If you need more control, you have the following options:</p>
<ul><li>change the way markup is drawn using <a href="use-markup-drawer.html">useMarkupDrawer</a></li>
<li>change the way the informational text is created from the supplied data with <a href="use-info-text-maker.html">useInfoTextMaker</a></li>
<li>change the way pieces are drawn or implement piece drawing for a game other than Go using
<a href="use-piece-drawer.html">usePieceDrawer</a></li>
<li>change the way the board is drawn or implement a board for a game other than Go using <a href="use-board.html">useBoard</a></li>
<li>for even more freedom, make a custom view that implements <a href="../-sgf-view-adapter/index.html">SgfViewAdapter</a>.</li>
</ul>
<p>You can use this view to implement any kind of board game you wish, but there are some limitations
for games with unusual boards:</p>
<ul><li>expansion of the board to only the visible parts when the <code>VW</code> property is used is only supported
if the game uses <a href="../../onion.w4v3xrmknycexlsd.lib.sgfcharm.parse/-x-y-point/index.html">XYPoint</a> as its <a href="../../onion.w4v3xrmknycexlsd.lib.sgfcharm.parse/-sgf-type/-point/index.html">SgfType.Point</a> implementation; otherwise the whole board will
be visible all the time</li>
<li>pieces and board tiles are assumed to have equal width and height, with the value returned by
<a href="../-sgf-board/tile-size.html">SgfBoard.tileSize</a>; if you need pieces with other side ratios, you need to handle that in the
<a href="../-sgf-piece-drawer.html">SgfPieceDrawer</a> manually and the <code>VW</code> property will only cover a square portion of the tile</li>
</ul>
<p><strong>See Also</strong><br/>
<p><a href="../-sgf-board/index.html">SgfBoard</a></p>
</p>
<h3>Constructors</h3>
<table>
<tbody>
<tr>
<td>
<h4><a href="-init-.html">&lt;init&gt;</a></h4>
</td>
<td>
<p>Draws an interactive Board together with undo/redo buttons and additional informational text. It's a
<code>TextView</code>, so the text it displays is styled according to the <code>TextView</code> attributes.</p>
<code><span class="identifier">SgfView</span><span class="symbol">(</span><span class="identifier" id="onion.w4v3xrmknycexlsd.lib.sgfcharm.view.SgfView$<init>(android.content.Context, android.util.AttributeSet)/context">context</span><span class="symbol">:</span>&nbsp;<a href="https://developer.android.com/reference/android/content/Context.html"><span class="identifier">Context</span></a><span class="symbol">, </span><span class="identifier" id="onion.w4v3xrmknycexlsd.lib.sgfcharm.view.SgfView$<init>(android.content.Context, android.util.AttributeSet)/attrs">attrs</span><span class="symbol">:</span>&nbsp;<a href="https://developer.android.com/reference/android/util/AttributeSet.html"><span class="identifier">AttributeSet</span></a><span class="symbol">?</span><span class="symbol">)</span></code></td>
</tr>
</tbody>
</table>
<h3>Properties</h3>
<table>
<tbody>
<tr>
<td>
<h4><a href="black-color.html">blackColor</a></h4>
</td>
<td>
<p>the color of black's pieces.</p>
<code><span class="keyword">var </span><span class="identifier">blackColor</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="grid-color.html">gridColor</a></h4>
</td>
<td>
<p>the color of the grid.</p>
<code><span class="keyword">var </span><span class="identifier">gridColor</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="grid-paint.html">gridPaint</a></h4>
</td>
<td>
<p>The paint used to draw the grid.</p>
<code><span class="keyword">val </span><span class="identifier">gridPaint</span><span class="symbol">: </span><a href="https://developer.android.com/reference/android/graphics/Paint.html"><span class="identifier">Paint</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="markup-color.html">markupColor</a></h4>
</td>
<td>
<p>the color of the markup.</p>
<code><span class="keyword">var </span><span class="identifier">markupColor</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="piece-paint.html">piecePaint</a></h4>
</td>
<td>
<p>The paint used to draw the pieces.</p>
<code><span class="keyword">val </span><span class="identifier">piecePaint</span><span class="symbol">: </span><a href="https://developer.android.com/reference/android/graphics/Paint.html"><span class="identifier">Paint</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="show-buttons.html">showButtons</a></h4>
</td>
<td>
<p>whether or not to display undo/redo buttons</p>
<code><span class="keyword">var </span><span class="identifier">showButtons</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html"><span class="identifier">Boolean</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="show-text.html">showText</a></h4>
</td>
<td>
<p>whether or not to display information text.</p>
<code><span class="keyword">var </span><span class="identifier">showText</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html"><span class="identifier">Boolean</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="white-color.html">whiteColor</a></h4>
</td>
<td>
<p>the color of white's pieces.</p>
<code><span class="keyword">var </span><span class="identifier">whiteColor</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a></code></td>
</tr>
</tbody>
</table>
<h3>Functions</h3>
<table>
<tbody>
<tr>
<td>
<h4><a href="on-draw.html">onDraw</a></h4>
</td>
<td>
<p>Draws the view.</p>
<code><span class="keyword">fun </span><span class="identifier">onDraw</span><span class="symbol">(</span><span class="identifier" id="onion.w4v3xrmknycexlsd.lib.sgfcharm.view.SgfView$onDraw(android.graphics.Canvas)/canvas">canvas</span><span class="symbol">:</span>&nbsp;<a href="https://developer.android.com/reference/android/graphics/Canvas.html"><span class="identifier">Canvas</span></a><span class="symbol">?</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="on-measure.html">onMeasure</a></h4>
</td>
<td>
<p>Measures the view by using the requested with and then requesting a height,
including the dimensions of the text currently displayed.</p>
<code><span class="keyword">fun </span><span class="identifier">onMeasure</span><span class="symbol">(</span><span class="identifier" id="onion.w4v3xrmknycexlsd.lib.sgfcharm.view.SgfView$onMeasure(kotlin.Int, kotlin.Int)/widthMeasureSpec">widthMeasureSpec</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a><span class="symbol">, </span><span class="identifier" id="onion.w4v3xrmknycexlsd.lib.sgfcharm.view.SgfView$onMeasure(kotlin.Int, kotlin.Int)/heightMeasureSpec">heightMeasureSpec</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="on-receive-sgf-data.html">onReceiveSgfData</a></h4>
</td>
<td>
<p>Called by the <a href="../../onion.w4v3xrmknycexlsd.lib.sgfcharm/-sgf-controller/index.html">SgfController</a> to transmit new <a href="../-sgf-view-adapter/on-receive-sgf-data.html#onion.w4v3xrmknycexlsd.lib.sgfcharm.view.SgfViewAdapter$onReceiveSgfData(kotlin.collections.List((onion.w4v3xrmknycexlsd.lib.sgfcharm.handle.SgfData)))/data">data</a> for the view to display.</p>
<code><span class="keyword">fun </span><span class="identifier">onReceiveSgfData</span><span class="symbol">(</span><span class="identifier" id="onion.w4v3xrmknycexlsd.lib.sgfcharm.view.SgfView$onReceiveSgfData(kotlin.collections.List((onion.w4v3xrmknycexlsd.lib.sgfcharm.handle.SgfData)))/data">data</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="../../onion.w4v3xrmknycexlsd.lib.sgfcharm.handle/-sgf-data.html"><span class="identifier">SgfData</span></a><span class="symbol">&gt;</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="on-touch-event.html">onTouchEvent</a></h4>
</td>
<td>
<p>Categorizes touch events (<code>ACTION_UP</code> only) into moves carried out, undo button and redo button,
and triggers the corresponding event of the registered <a href="../-sgf-input-listener/index.html">SgfInputListener</a>.</p>
<code><span class="keyword">fun </span><span class="identifier">onTouchEvent</span><span class="symbol">(</span><span class="identifier" id="onion.w4v3xrmknycexlsd.lib.sgfcharm.view.SgfView$onTouchEvent(android.view.MotionEvent)/event">event</span><span class="symbol">:</span>&nbsp;<a href="https://developer.android.com/reference/android/view/MotionEvent.html"><span class="identifier">MotionEvent</span></a><span class="symbol">?</span><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-boolean/index.html"><span class="identifier">Boolean</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="register-input-listener.html">registerInputListener</a></h4>
</td>
<td>
<p>Registers the <a href="../-sgf-view-adapter/register-input-listener.html#onion.w4v3xrmknycexlsd.lib.sgfcharm.view.SgfViewAdapter$registerInputListener(onion.w4v3xrmknycexlsd.lib.sgfcharm.view.SgfInputListener)/listener">listener</a> as <a href="../-sgf-input-listener/index.html">SgfInputListener</a> to trigger in response to touch events.</p>
<code><span class="keyword">fun </span><span class="identifier">registerInputListener</span><span class="symbol">(</span><span class="identifier" id="onion.w4v3xrmknycexlsd.lib.sgfcharm.view.SgfView$registerInputListener(onion.w4v3xrmknycexlsd.lib.sgfcharm.view.SgfInputListener)/listener">listener</span><span class="symbol">:</span>&nbsp;<a href="../-sgf-input-listener/index.html"><span class="identifier">SgfInputListener</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></td>
</tr>
</tbody>
</table>
<h3>Companion Object Functions</h3>
<table>
<tbody>
<tr>
<td>
<h4><a href="use-board.html">useBoard</a></h4>
</td>
<td>
<p>Makes the <a href="./index.html">SgfView</a> use the given <a href="use-board.html#onion.w4v3xrmknycexlsd.lib.sgfcharm.view.SgfView.Companion$useBoard(kotlin.Int, onion.w4v3xrmknycexlsd.lib.sgfcharm.view.SgfBoard)/board">board</a> to handle the drawing the board
specific to the game of type <a href="use-board.html#onion.w4v3xrmknycexlsd.lib.sgfcharm.view.SgfView.Companion$useBoard(kotlin.Int, onion.w4v3xrmknycexlsd.lib.sgfcharm.view.SgfBoard)/gameId">gameId</a>.</p>
<code><span class="keyword">fun </span><span class="identifier">useBoard</span><span class="symbol">(</span><span class="identifier" id="onion.w4v3xrmknycexlsd.lib.sgfcharm.view.SgfView.Companion$useBoard(kotlin.Int, onion.w4v3xrmknycexlsd.lib.sgfcharm.view.SgfBoard)/gameId">gameId</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a><span class="symbol">, </span><span class="identifier" id="onion.w4v3xrmknycexlsd.lib.sgfcharm.view.SgfView.Companion$useBoard(kotlin.Int, onion.w4v3xrmknycexlsd.lib.sgfcharm.view.SgfBoard)/board">board</span><span class="symbol">:</span>&nbsp;<a href="../-sgf-board/index.html"><span class="identifier">SgfBoard</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="use-info-text-maker.html">useInfoTextMaker</a></h4>
</td>
<td>
<p>Makes the <a href="./index.html">SgfView</a> use the given <a href="use-info-text-maker.html#onion.w4v3xrmknycexlsd.lib.sgfcharm.view.SgfView.Companion$useInfoTextMaker(kotlin.Function2((kotlin.collections.List((onion.w4v3xrmknycexlsd.lib.sgfcharm.handle.NodeInfo)), onion.w4v3xrmknycexlsd.lib.sgfcharm.handle.MoveInfo, kotlin.CharSequence)))/infoTextMaker">infoTextMaker</a> to format the <a href="../../onion.w4v3xrmknycexlsd.lib.sgfcharm.handle/-node-info/index.html">NodeInfo</a>s and the <a href="../../onion.w4v3xrmknycexlsd.lib.sgfcharm.handle/-move-info/index.html">MoveInfo</a>
from the last move into a string. Note that the <a href="../../onion.w4v3xrmknycexlsd.lib.sgfcharm.handle/-move-info/index.html">MoveInfo</a> can be <code>null</code> if there were no moves so far.</p>
<code><span class="keyword">fun </span><span class="identifier">useInfoTextMaker</span><span class="symbol">(</span><span class="identifier" id="onion.w4v3xrmknycexlsd.lib.sgfcharm.view.SgfView.Companion$useInfoTextMaker(kotlin.Function2((kotlin.collections.List((onion.w4v3xrmknycexlsd.lib.sgfcharm.handle.NodeInfo)), onion.w4v3xrmknycexlsd.lib.sgfcharm.handle.MoveInfo, kotlin.CharSequence)))/infoTextMaker">infoTextMaker</span><span class="symbol">:</span>&nbsp;<a href="../-sgf-info-text-maker.html"><span class="identifier">SgfInfoTextMaker</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="use-markup-drawer.html">useMarkupDrawer</a></h4>
</td>
<td>
<p>Makes the <a href="./index.html">SgfView</a> use the given <a href="use-markup-drawer.html#onion.w4v3xrmknycexlsd.lib.sgfcharm.view.SgfView.Companion$useMarkupDrawer(kotlin.Function11((android.graphics.Canvas, onion.w4v3xrmknycexlsd.lib.sgfcharm.handle.Markup, kotlin.Float, , , , , android.graphics.Paint, kotlin.Int, , , kotlin.Unit)))/markupDrawer">markupDrawer</a> to draw the <a href="../../onion.w4v3xrmknycexlsd.lib.sgfcharm.handle/-markup/index.html">Markup</a> to the <a href="https://developer.android.com/reference/android/graphics/Canvas.html">Canvas</a>
at screen coordinates <code>x</code> and <code>y</code>, with <code>xTo</code> and <code>yTo</code> if the markup type uses
two coordinates, using the <code>paint</code>.</p>
<code><span class="keyword">fun </span><span class="identifier">useMarkupDrawer</span><span class="symbol">(</span><span class="identifier" id="onion.w4v3xrmknycexlsd.lib.sgfcharm.view.SgfView.Companion$useMarkupDrawer(kotlin.Function11((android.graphics.Canvas, onion.w4v3xrmknycexlsd.lib.sgfcharm.handle.Markup, kotlin.Float, , , , , android.graphics.Paint, kotlin.Int, , , kotlin.Unit)))/markupDrawer">markupDrawer</span><span class="symbol">:</span>&nbsp;<a href="../-sgf-markup-drawer.html"><span class="identifier">SgfMarkupDrawer</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="use-piece-drawer.html">usePieceDrawer</a></h4>
</td>
<td>
<p>Makes the <a href="./index.html">SgfView</a> use the given <a href="use-piece-drawer.html#onion.w4v3xrmknycexlsd.lib.sgfcharm.view.SgfView.Companion$usePieceDrawer(kotlin.Int, kotlin.Function8((android.graphics.Canvas, onion.w4v3xrmknycexlsd.lib.sgfcharm.handle.Piece, kotlin.Float, , , android.graphics.Paint, kotlin.Int, , kotlin.Unit)))/pieceDrawer">pieceDrawer</a> to handle the drawing of the pieces
specific to the game of type <a href="use-piece-drawer.html#onion.w4v3xrmknycexlsd.lib.sgfcharm.view.SgfView.Companion$usePieceDrawer(kotlin.Int, kotlin.Function8((android.graphics.Canvas, onion.w4v3xrmknycexlsd.lib.sgfcharm.handle.Piece, kotlin.Float, , , android.graphics.Paint, kotlin.Int, , kotlin.Unit)))/gameId">gameId</a>.</p>
<code><span class="keyword">fun </span><span class="identifier">usePieceDrawer</span><span class="symbol">(</span><span class="identifier" id="onion.w4v3xrmknycexlsd.lib.sgfcharm.view.SgfView.Companion$usePieceDrawer(kotlin.Int, kotlin.Function8((android.graphics.Canvas, onion.w4v3xrmknycexlsd.lib.sgfcharm.handle.Piece, kotlin.Float, , , android.graphics.Paint, kotlin.Int, , kotlin.Unit)))/gameId">gameId</span><span class="symbol">:</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-int/index.html"><span class="identifier">Int</span></a><span class="symbol">, </span><span class="identifier" id="onion.w4v3xrmknycexlsd.lib.sgfcharm.view.SgfView.Companion$usePieceDrawer(kotlin.Int, kotlin.Function8((android.graphics.Canvas, onion.w4v3xrmknycexlsd.lib.sgfcharm.handle.Piece, kotlin.Float, , , android.graphics.Paint, kotlin.Int, , kotlin.Unit)))/pieceDrawer">pieceDrawer</span><span class="symbol">:</span>&nbsp;<a href="../-sgf-piece-drawer.html"><span class="identifier">SgfPieceDrawer</span></a><span class="symbol">)</span><span class="symbol">: </span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></td>
</tr>
</tbody>
</table>
</BODY>
</HTML>
