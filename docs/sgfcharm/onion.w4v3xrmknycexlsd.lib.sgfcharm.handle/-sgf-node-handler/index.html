<HTML>
<HEAD>
<meta charset="UTF-8">
<title>SgfNodeHandler - sgfcharm</title>
<link rel="stylesheet" href="../../../style.css">
</HEAD>
<BODY>
<a href="../../index.html">sgfcharm</a>&nbsp;/&nbsp;<a href="../index.html">onion.w4v3xrmknycexlsd.lib.sgfcharm.handle</a>&nbsp;/&nbsp;<a href="./index.html">SgfNodeHandler</a><br/>
<br/>
<h1>SgfNodeHandler</h1>
<code><span class="keyword">class </span><span class="identifier">SgfNodeHandler</span></code> <a href="https://github.com/w4v3/sgfcharm/tree/master/sgfcharm/src/main/java/onion/w4v3xrmknycexlsd/lib/sgfcharm/handle/SgfNodeHandler.kt#L82">(source)</a>
<p>This class processes <a href="../../onion.w4v3xrmknycexlsd.lib.sgfcharm.parse/-sgf-node.html">SgfNode</a>s given the current <a href="../-sgf-state/index.html">SgfState</a> and modifies that state to include
the processed data.</p>
<p>The <a href="../../onion.w4v3xrmknycexlsd.lib.sgfcharm.parse/-sgf-tree/index.html">SgfTree</a> contains the incremental changes of the board from node to node, but the <a href="../../onion.w4v3xrmknycexlsd.lib.sgfcharm.view/-go-sgf-view/index.html">GoSgfView</a>
should know about the current state of the whole board (and nothing more). Therefore, no <a href="../../onion.w4v3xrmknycexlsd.lib.sgfcharm.parse/-sgf-tree/index.html">SgfTree</a>
types should appear anywhere higher up the flow from here; only <a href="../-sgf-data.html">SgfData</a> may be used to communicate
with the <a href="../../onion.w4v3xrmknycexlsd.lib.sgfcharm.view/-go-sgf-view/index.html">GoSgfView</a>.</p>
<p>To this end, this class consists purely of extension functions to <a href="../-sgf-state/index.html">SgfState</a> which turn <a href="../../onion.w4v3xrmknycexlsd.lib.sgfcharm.parse/-sgf-property/index.html">SgfProperty</a>s
into <a href="../-sgf-data.html">SgfData</a> and feed it back into the state. Most of the implementation is private, but you can
supply some game specific operations (unstable):</p>
<h3>Constructors</h3>
<table>
<tbody>
<tr>
<td>
<h4><a href="-init-.html">&lt;init&gt;</a></h4>
</td>
<td>
<p>This class processes <a href="../../onion.w4v3xrmknycexlsd.lib.sgfcharm.parse/-sgf-node.html">SgfNode</a>s given the current <a href="../-sgf-state/index.html">SgfState</a> and modifies that state to include
the processed data.</p>
<code><span class="identifier">SgfNodeHandler</span><span class="symbol">(</span><span class="symbol">)</span></code></td>
</tr>
</tbody>
</table>
<h3>Properties</h3>
<table>
<tbody>
<tr>
<td>
<h4><a href="custom-property-handler.html">customPropertyHandler</a></h4>
</td>
<td>
<p>receives the identifier and value of a custom property (see
<a href="../../onion.w4v3xrmknycexlsd.lib.sgfcharm.parse/-sgf-property/-c-u-s-t-o-m/index.html">SgfProperty.CUSTOM</a>) along with the current <a href="../-sgf-state/index.html">SgfState</a>. You are free to do with it whatever
you want; typically you would call <a href="../-sgf-state/add-node-info.html">SgfState.addNodeInfo</a> on the state to communicate arbitrary
information to the view.</p>
<code><span class="keyword">var </span><span class="identifier">customPropertyHandler</span><span class="symbol">: </span><a href="../-sgf-state/index.html"><span class="identifier">SgfState</span></a><span class="symbol">.</span><span class="symbol">(</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">,</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-string/index.html"><span class="identifier">String</span></a><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin/-unit/index.html"><span class="identifier">Unit</span></a></code></td>
</tr>
<tr>
<td>
<h4><a href="move-handler.html">moveHandler</a></h4>
</td>
<td>
<p>modifies the given state by making the given move of the given color, returning
a <a href="../-move-info/index.html">MoveInfo</a> object for the move executed or <code>null</code> if the move was invalid.
When implementing this function, it is your responsibility to make <a href="../-sgf-state/add-piece.html">SgfState.addPiece</a> and
<a href="../-sgf-state/remove-piece.html">SgfState.removePiece</a> calls on the <a href="../-sgf-state/index.html">SgfState</a> object passed. Note that if the move involves
moving a piece from one position to another, you must add it to the final position and remove
it from the previous one. You also need to increase move count and prisoner counts in the <a href="../-move-info/index.html">MoveInfo</a>
object you return, for which you may want to use the info provided by <a href="../-sgf-state/last-move-info.html">SgfState.lastMoveInfo</a>.</p>
<code><span class="keyword">var </span><span class="identifier">moveHandler</span><span class="symbol">: </span><a href="../-sgf-state/index.html"><span class="identifier">SgfState</span></a><span class="symbol">.</span><span class="symbol">(</span><span class="identifier">Value</span><span class="symbol">,</span>&nbsp;<span class="identifier">Move</span><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<a href="../-move-info/index.html"><span class="identifier">MoveInfo</span></a><span class="symbol">?</span></code></td>
</tr>
<tr>
<td>
<h4><a href="variations-marker.html">variationsMarker</a></h4>
</td>
<td>
<p>receives a list of variations given as <code>[SgfType.Move]?</code>s, where each
entry corresponds to one variation <code>GameTree</code> in the order they appear in the <code>sgf</code> file.
The respective entry is the first move in the first node of the variation, or <code>null</code> if there is
no move in that node. The lambda returns a list of <a href="../-markup/index.html">Markup</a> representing the board markup to apply
for each variation.</p>
<code><span class="keyword">var </span><span class="identifier">variationsMarker</span><span class="symbol">: </span><a href="../-sgf-state/index.html"><span class="identifier">SgfState</span></a><span class="symbol">.</span><span class="symbol">(</span><a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><span class="identifier">Move</span><span class="symbol">?</span><span class="symbol">&gt;</span><span class="symbol">)</span>&nbsp;<span class="symbol">-&gt;</span>&nbsp;<a href="https://kotlinlang.org/api/latest/jvm/stdlib/kotlin.collections/-list/index.html"><span class="identifier">List</span></a><span class="symbol">&lt;</span><a href="../-markup/index.html"><span class="identifier">Markup</span></a><span class="symbol">&gt;</span></code></td>
</tr>
</tbody>
</table>
</BODY>
</HTML>
